select distinct ?resource replace(str(?p),".*#","") as ?interaction ?targetNode
{
 ?resource	a owl:Class;
 		rdfs:subClassOf ?restriction.

 ?restriction	a owl:Restriction;
		owl:onProperty ?p;
		owl:someValuesFrom ?targetNode.

?targetNode a ?x.
}
