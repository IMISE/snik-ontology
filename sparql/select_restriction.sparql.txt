select distinct ?resource ?p as ?interaction replace(str(?p),".*[#/]","") as ?interactionLabel ?targetNode
{
 ?resource	a owl:Class;
 		rdfs:subClassOf ?restriction.

 ?restriction	a owl:Restriction;
		owl:onProperty ?p.

 {?restriction owl:someValuesFrom ?targetNode.} UNION
 {?restriction owl:allValuesFrom ?targetNode.}

}
